<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Task App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./index.css" type="text/css" rel="stylesheet">
    <script src="./task-app.js"></script>
    <script src="./estimate-quota-usage.js"></script>
    <script src="./show-table.js"></script>
    <script>
      parseLocalStorageArray('tasks');
      parseLocalStorageArray('records');
      console.log(`${tasks.length > 0 || records.length > 0 ? 'U': 'No u'}ser data has been found localStorage.`);
    </script>
    <script defer src="./gui-opperations.js"></script>
  </head>
  <body>

    <div class="tabs flex row">
      <button id="pending">pending</button>
      <button id="today">today</button>
      <button id="completed">completed</button>
      <span class="flex-grow"></span>
      <button id="settings">&ctdot;</button>
    </div>

    <div id="tab-options-container" class="flex column hidden">
      <div class="flex column">
        <label for="tab-name">tab name:</label>
        <input type="text" placeholder="suggestion: keep it short">
      </div>
      <div class="flex column">
        <label for="tag-requirements">show tasks with the following tags:</label>
        <textarea id="tag-requirements"></textarea>
      </div>

      <div class="flex row">
        <span>each task should contain:</span>
        <span class="input-container flex row">
          <span class="dont-wrap-text">
            <input type="radio" name="tag-match" value="all" id="tag-match-option-1" checked>
            <label for="tag-match-option-1">all of these tags</label>
          </span>
          <span class="dont-wrap-text">
            <input type="radio" name="tag-match" value="some" id="tag-match-option-2">
            <label for="tag-match-option-2">at least one of these tags</label>
          </span>
        </span>
      </div>

      <details open>
        <summary>filtering options</summary>
        <div>
          <div>filter tasks by <em>deadline</em></div>
          <div>
            <label for="due-date-range-start">from:</label>
            <input type="date" id="due-date-range-start"></input>
            <label for="due-date-range-end">to:</label>
            <input type="date" id="due-date-range-end"></input>
          </div>
        </div>

        <div>
          <div>filter tasks by <em>date of creation</em></div>
          <div>
            <label for="start-date-range-start">from:</label>
            <input type="date" id="start-date-range-start"></input>
            <label for="start-date-range-end">to:</label>
            <input type="date" id"start-date-range-end"></input>
          </div>
        </div>

        <div>
          <div>filter tasks by <em>date of completion</em></div>
          <div>
            <label for="end-date-range-start">from:</label>
            <input type="date" id="end-date-range-start"></input>
            <label for="end-date-range-end">to:</label>
            <input type="date" id="end-date-range-end"></input>
          </div>
        </div>

        <div>
          <div>show tasks with status:</div>
          <div>
            <span>
              <input type="checkbox" id="show-overdue" name="overdue">
              <label for="show-overdue">overdue</label>
            </span>
            <span>
              <input type="checkbox" id="show-pending" name="pending">
              <label for="show-pending">pending</label>
            </span>
            <span>
              <input type="checkbox" id="show-completed" name="complete">
              <label for="show-completed">completed</label>
            </span>
          </div>
        </div>
      </details>

      <details open>
        <summary>sorting options</summary>
        <div>
          <span>tasks are sorted by deadline by default(tasks with earliest due date first).
          <div>
            <input type="radio" value="due-date" name="sort-by" id="sort-option-1" checked>
            <label for="sort-option-1">sort tasks by date of deadline</label>
          </div>
          <div>
            <input type="radio" value="start-date" name="sort-by" id="sort-option-2">
            <label for="sort-option-2">sort tasks by date of creation</label>
          </div>
          <div>
            <input type="radio" value="tags" name="sort-by" id="sort-option-3">
            <label for="sort-option-3">sort tasks by tag quantity</label>
          </div>
        </div>
        <div>
          <input type="checkbox" id="reverse-order-option" name="reverse-order">
          <label for="reverse-order-option">reverse the sort order</label>
        </div>
      </details>

      <div>
        <input type="checkbox" id="archive-completed">
        <label for="archive-completed">automatically archive completed tasks</label>
      </div>
    </div>

    <div id="task-container">
      <div id="task-node-template" class='task-node-template hidden'>
        <details open>
          <summary class="task-title">
            move those dang buttons out of the template... and for development purposes, i will have to make this title very verbose and extra large
          </summary>
          <div>
            <p class="task-details">
            only the due date is shown in this version and ive moved
            the buttons out of the element. additionally, tags are
            faded out a bit. I managed to solve overflowing tags. ALSO,
            also... i dont think i need to show every single data entry
            such as the 3 dates or required.
            </p>
          </div>
          <div class="tag-info">
            <p>tags:<span class="task-tags">place-holder-text wip 5th-template-for-task-elements overflowing-tags too-many-tags unnecissarily-long-list-of-tags</span></p>
          </div>
        </details>
        <div class="prerequisite-container">
          <p>prerequisites:</p>
          <ul>
            <li>eo asohet asoe toe asoetsh noe toae snheotn etntens inaeos heot htoe a</li>
            <li>oesneoh tn aesl esno ehntiao esnoie toaei snheo tao</li>
          </ul>
        </div>
        <p class="due-date-none">no due date has been set</p>
        <p>due date:<span class="task-due-date">0000-00-00</span></p>
        <div class='flex row options buttons'>
          <button class="edit">edit</button>
          <button class="mark-complete">mark complete</button>
          <button class="mark-incomplete hidden">mark incomplete</button>
          <button class="archive hidden">archive</button>
          <button class="remove">remove</button>
        </div>
      </div>

      <div id="task-editor-node-template" class='task-editor-node-template hidden'>
        <div class="textarea-input-container">
          <label for="title">title:</label>
          <textarea id="title"></textarea>
        </div>
        <div class="textarea-input-container">
          <label for="details">details:</label>
          <textarea id="details"></textarea>
        </div>
        <div class="textarea-input-container">
          <label for="tags">tags:</label>
          <textarea id="tags" spellcheck="false" placeholder="join-words-with-dash separate-tags-with-space"></textarea>
        </div>
        <div class="date-input-container">
            <label for="dueDate">due date:</label>
            <input id="dueDate"type="date"></input>
        </div>

        <div class="prerequisite-container">
          <label class="title">prerequisites:</label>
          <ul>
            <li>eo asohet asoe toe asoetsh noe toae snheotn etntens inaeos heot htoe a</li>
            <li>oesneoh tn aesl esno ehntiao esnoie toaei snheo tao</li>
          </ul>
        </div>


        <div id="prerequisite-selector">
          <div>
            <label>prerequisite selection</label>
            <button id="hide-selector">&#10060;</button>
          </div>
          <input id="task-search" type="search" placeholder="search for a task">
          <div id="search-results">
            <p class="selected">search result goes here. search result goes here. search result goes here. search result goes here. search result goes here</p>
            <p>ths is anothege retst</p>
          </div>
          <button id="view-selected-tasks">view selected tasks (<span id="prereq-count">0</span>)</button>
        </div>

        <div class='flex row buttons'>
          <div>
            <button id="add-prereq">add prerequisite</button>
          </div>
          <div>
            <button id="save">save</button>
            <button id="close">close</button>
          </div>
        </div>
      </div>

      <div id="settings-container" class="hidden">
        <div>
          <div class="flex row">
            <label for="storage-quota">storage quota:</label>
            <span class="flex-grow"></span>
            <span class="storage-quota"></span>
            <span>% used</span>
          </div>
          <progress id="storage-quota" max="100" value=""></progress>
        </div>
        <h3>SETTINGS</h3>
        <details class="hidden">
          <summary><strong>appearance options</strong></summary>
          <div>
            <p>main color or custom colors?</p>
            <p>user interface width?</p>
            <p>date format?</p>
          </div>
        </details>
        <details id="reset-data">
          <summary><strong>user data options</strong></summary>
          <div>
            <p>To erase all data such as tasks, tabs and prefferred settings: press the red button and confirm your choice.</p>
            <button id="erase-all-data">ERASE ALL DATA</button>
          </div>
        </details>
        <details>
          <summary>app info</summary>
          <div>
            <p>There are more features to be implemented to the graphical user interface.<p>
            <p>For those who know JS: the <a href="./fn-table.html">core functionality</a> is available through the browser console.</p>
            <p>You can follow the development of this app by watching <a href="https://github.com/syrupsandwich/task-app">the github repository</a>.</p>
            <p>If you find any problems and know how to replicate it, let me know through the <a href="https://github.com/syrupsandwich/task-app/issues">issues page</a> on github.</p>
            <p id="copywrite">Task App &copy; 2024 Saul Lopez</p>
          </div>
        </details>
      </div>
    </div>

    <div id="write-task-button-container">
      <button id="write-task" class="hidden">write new task</button>
    </div>

    <footer>
    </footer>

    <div id="introduction" class="flex">
      <div>
        <h3>This is Task App</h3>
        <p>A web application that can save your tasks and display them as a list.</p>
        <p>You can follow the development of this app by watching <a href="https://github.com/syrupsandwich/task-app">the github repository</a></p>
        <p>If you find any problems and know how to replicate it, let me know through the <a href="https://github.com/syrupsandwich/task-app/issues">issues page</a> on github.</p>
        <p>Thank you for checking out this project.</p>
        <button id="hide-introduction">dismiss</button>
      </div>
    </div>

  </body>
</html>
